# éƒ¨ç½²é—®é¢˜æ’æŸ¥å’Œä¿®å¤

## ğŸ” å‘ç°çš„é—®é¢˜

### é—®é¢˜1ï¼šä¸¤ä¸ªå·¥ä½œæµæ–‡ä»¶å†²çª

GitHub ä»“åº“ä¸­æœ‰ä¸¤ä¸ªå·¥ä½œæµæ–‡ä»¶ï¼š
1. `deploy.yml` - ä½¿ç”¨ `npm run build:gh` âœ…
2. `nextjs.yml` - ä½¿ç”¨é»˜è®¤ `next build` âŒï¼ˆæ²¡æœ‰è®¾ç½® DEPLOY_TARGETï¼‰

### é—®é¢˜2ï¼šnextjs.yml æ²¡æœ‰è®¾ç½®ç¯å¢ƒå˜é‡

`nextjs.yml` ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„ `next build`ï¼Œæ²¡æœ‰è®¾ç½® `DEPLOY_TARGET=github`ï¼Œå¯¼è‡´ï¼š
- basePath ä¸ºç©º
- GitHub Pages è·¯å¾„é”™è¯¯
- èµ„æºæ–‡ä»¶ 404

---

## âœ… å·²ä¿®å¤

### ä¿®å¤ nextjs.yml

å°†æ„å»ºå‘½ä»¤ä»ï¼š
```yaml
run: ${{ steps.detect-package-manager.outputs.runner }} next build
```

æ”¹ä¸ºï¼š
```yaml
run: npm run build:gh
env:
  NODE_ENV: production
  DEPLOY_TARGET: github
```

---

## ğŸ“‹ å½“å‰å·¥ä½œæµçŠ¶æ€

### deploy.ymlï¼ˆæ¨èä½¿ç”¨ï¼‰
- âœ… ä½¿ç”¨ `npm run build:gh`
- âœ… è®¾ç½® `DEPLOY_TARGET=github`
- âœ… æ­£ç¡®é…ç½® basePath

### nextjs.ymlï¼ˆå·²ä¿®å¤ï¼‰
- âœ… ç°åœ¨ä¹Ÿä½¿ç”¨ `npm run build:gh`
- âœ… è®¾ç½® `DEPLOY_TARGET=github`
- âœ… ä¸ deploy.yml ä¸€è‡´

---

## ğŸš€ éªŒè¯éƒ¨ç½²

### æ£€æŸ¥æ­¥éª¤ï¼š

1. **æŸ¥çœ‹ Actions**
   - è®¿é—®ï¼šhttps://github.com/MyraWang0406/PSM-DID-uplift/actions
   - ç¡®è®¤æœ€æ–°çš„å·¥ä½œæµè¿è¡ŒæˆåŠŸï¼ˆç»¿è‰² âœ…ï¼‰

2. **æ£€æŸ¥ GitHub Pages è®¾ç½®**
   - Settings â†’ Pages
   - Source: GitHub Actions
   - ç¡®è®¤å·²å¯ç”¨

3. **è®¿é—®ç½‘ç«™**
   - URL: https://myrawang0406.github.io/PSM-DID-uplift/
   - æ£€æŸ¥é¡µé¢æ˜¯å¦æ­£å¸¸åŠ è½½
   - æ£€æŸ¥èµ„æºæ–‡ä»¶æ˜¯å¦æ­£å¸¸ï¼ˆF12 å¼€å‘è€…å·¥å…·ï¼‰

---

## ğŸ› å¦‚æœè¿˜æœ‰é—®é¢˜

### å¸¸è§é—®é¢˜ï¼š

1. **é¡µé¢ç©ºç™½**
   - æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
   - ç¡®è®¤ basePath é…ç½®æ­£ç¡®

2. **èµ„æº 404**
   - æ£€æŸ¥ `out/` ç›®å½•ç»“æ„
   - ç¡®è®¤ `assetPrefix` é…ç½®æ­£ç¡®

3. **æ„å»ºå¤±è´¥**
   - æŸ¥çœ‹ Actions æ—¥å¿—
   - ç¡®è®¤ä¾èµ–å®‰è£…æˆåŠŸ
   - ç¡®è®¤æ„å»ºå‘½ä»¤æ­£ç¡®

---

## ğŸ“ å»ºè®®

### é€‰é¡¹1ï¼šä¿ç•™ä¸¤ä¸ªå·¥ä½œæµï¼ˆå½“å‰ï¼‰
- ä¸¤ä¸ªå·¥ä½œæµéƒ½ä½¿ç”¨ç›¸åŒçš„æ„å»ºå‘½ä»¤
- å¯ä»¥åŒæ—¶è¿è¡Œï¼ˆä½†ä¼šé‡å¤éƒ¨ç½²ï¼‰

### é€‰é¡¹2ï¼šåˆ é™¤ nextjs.ymlï¼ˆæ¨èï¼‰
- åªä¿ç•™ `deploy.yml`
- é¿å…é‡å¤éƒ¨ç½²
- æ›´æ¸…æ™°

å¦‚æœè¦åˆ é™¤ nextjs.ymlï¼š
```bash
git rm .github/workflows/nextjs.yml
git commit -m "Remove duplicate workflow"
git push origin main
```

---

## âœ… ä¿®å¤åçš„é¢„æœŸç»“æœ

- âœ… æ„å»ºæˆåŠŸ
- âœ… éƒ¨ç½²æˆåŠŸ
- âœ… é¡µé¢æ­£å¸¸è®¿é—®
- âœ… èµ„æºæ–‡ä»¶æ­£å¸¸åŠ è½½
- âœ… è“è‰²æ°´æ³¢æ ‡é¢˜æ˜¾ç¤ºæ­£å¸¸
- âœ… è¡¨æ ¼å’Œå›¾è¡¨æ­£å¸¸æ˜¾ç¤º

